public class ConsoleCalculator {
    public static void main(String[] args) {
        java.util.Scanner scanner = new java.util.Scanner(System.in);
        while (true) {
            System.out.print("Enter a math equation (e.g., 2 + 2, 3 * 4): ");
            String input = scanner.nextLine().replaceAll("\\s+", "");
            String[] parts = input.split("(?<=[-+*/])|(?=[-+*/])");
            if (parts.length != 3) {
                System.out.println("Invalid input! Please try again.");
                continue;
            }
            double operand1, operand2;
            try {
                operand1 = Double.parseDouble(parts[0]);
                operand2 = Double.parseDouble(parts[2]);
            } catch (NumberFormatException e) {
                System.out.println("Invalid input! Please enter valid numbers.");
                continue;
            }
            char operator = parts[1].charAt(0);
            double result = calculate(operand1, operator, operand2);
            System.out.println("Result: " + result);
            System.out.print("Calculate another equation? (yes/no): ");
            if (!scanner.nextLine().equalsIgnoreCase("yes")) {
                break;
            }
        }
        scanner.close();
    }

    private static double calculate(double operand1, char operator, double operand2) {
        switch (operator) {
            case '+': return operand1 + operand2;
            case '-': return operand1 - operand2;
            case '*': return operand1 * operand2;
            case '/': if (operand2 == 0) {
                System.out.println("Division by zero is not allowed!");
                System.exit(1);
            } else {
                return operand1 / operand2;
            }
            default: System.out.println("Invalid operator! Please use +, -, *, or /."); System.exit(1); return 0;
        }
    }
}
