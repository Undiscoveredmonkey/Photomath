let isActivated = false;

// Activate button click event handler
function activateButton() {
    isActivated = true;
    console.log("Screen scanning activated.");
    captureScreen();
}

// Function to capture screen content
function captureScreen() {
    navigator.mediaDevices.getDisplayMedia({ video: true })
    .then(stream => {
        let videoTrack = stream.getVideoTracks()[0];
        let imageCapture = new ImageCapture(videoTrack);
        
        // Periodically capture frames
        setInterval(() => {
            if(isActivated) {
                imageCapture.grabFrame()
                .then(imageBitmap => {
                    // Process the captured frame (e.g., use OCR)
                    processCapturedFrame(imageBitmap);
                })
                .catch(error => {
                    console.error('Error capturing frame: ', error);
                });
         
